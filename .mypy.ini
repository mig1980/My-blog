[mypy]
# Mypy configuration for gradual type checking adoption
# Python version
python_version = 3.13

# General settings
warn_return_any = False
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True

# Import handling
ignore_missing_imports = True
follow_imports = silent

# Relaxed settings for gradual adoption
# Don't require all functions to be typed
disallow_untyped_defs = False
# Allow partial type hints
disallow_incomplete_defs = False
# Allow calling untyped functions
allow_untyped_calls = True
# Allow untyped function definitions
allow_untyped_defs = True
# Don't treat Optional implicitly
no_implicit_optional = False

# Exclude patterns
exclude = (?x)(
    __pycache__
    | \.git
    | \.venv
    | venv
    | build
    | dist
    )

# Per-file configuration (gradually increase strictness)
# Well-typed files can have stricter rules
[mypy-scripts.pixabay_hero_fetcher]
disallow_untyped_defs = False
disallow_incomplete_defs = True

[mypy-scripts.upload_newsletter_to_blob]
disallow_untyped_defs = False
disallow_incomplete_defs = True

# Third-party libraries without stubs
[mypy-bs4.*]
ignore_missing_imports = True

[mypy-azure.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-PIL.*]
ignore_missing_imports = True
